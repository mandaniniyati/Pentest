import subprocess
import sys


def cm(interface, new):
    print("Changing MAC for interface" + " " + interface + " " + "to" + " " + new)
    subprocess.call(["ifconfig", interface, "down"])
    subprocess.call(["ifconfig", interface, "hw", "ether", new])
    subprocess.call(["ifconfig", interface, "up"])


def start():
    q = input("Would you like me to assign a new mac address to your network? y/n ")
    if q == "y":
        p1 = subprocess.Popen(['macchanger', '-r', 'eth0'], stdout=sys.stdout, stderr=sys.stderr)
        output = p1.communicate()[0]
        print(output)
        print("Updated, showing details:")
        p1 = subprocess.Popen(['macchanger', '-s', 'eth0'], stdout=sys.stdout, stderr=sys.stderr)
        print("------------**RESULTS**----------------------------")
        output = p1.communicate()[0]
        print(output)

    if q == "n":
        i = input("Enter interface:")
        m = input("Enter mac:")
        cm(i, m)
        print("------------**RESULTS**----------------------------")
        print("Showing reults:")
        p1 = subprocess.Popen(['macchanger', '-s', 'eth0'], stdout=sys.stdout, stderr=sys.stderr)
        output = p1.communicate()[0]
        print(output)
