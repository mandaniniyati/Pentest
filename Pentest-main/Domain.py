import subprocess
import sys


def subdomain():
    print("Please enter a url:")
    url = input("URL: ")
    # try:
    # check = re.findall(r"\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b", remoteServer)
    p1 = subprocess.Popen(['amass', 'enum', '-d', url], stdout=sys.stdout, stderr=sys.stderr)
    output = p1.communicate()[0]
    print(output)
    print("Phase 2 *DNSENUM TOOL*: ")
    path1 = "/usr/share/dirbuster/wordlists/directories.jbrofuzz"
    p1 = subprocess.Popen(['dnsenum', url, '-f', path1], stdout=sys.stdout, stderr=sys.stderr)
    output = p1.communicate()[0]
    print("------------**RESULTS**----------------------------")
    print(output)

def technologies():
    remoteServer = input("Enter remote ip to scan: ")
    print("Finding technologies for the given host, using whatweb tool : ")
    p1 = subprocess.Popen(['whatweb', '-v', '-a', '3', remoteServer], stdout=sys.stdout, stderr=sys.stderr)
    print("------------**RESULTS**----------------------------")
    output = p1.communicate()[0]
    print(output)
    print("Finding technologies for the given host, using whatweb tool : ")
    p2 = subprocess.Popen(['lbd', '-h', remoteServer], stdout=sys.stdout, stderr=sys.stderr)
    print("------------**RESULTS**----------------------------")
    output2 = p2.communicate()[0]
    print(output2)
